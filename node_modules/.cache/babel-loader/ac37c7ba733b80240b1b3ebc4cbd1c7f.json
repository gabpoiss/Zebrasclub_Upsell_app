{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Card, DisplayText, Form, FormLayout, Layout, Page, PageActions, TextField } from \"@shopify/polaris\";\nimport store from \"store-js\";\n\nvar EditProduct =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EditProduct, _React$Component);\n\n  function EditProduct() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EditProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditProduct)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      discount: \"\",\n      price: \"\",\n      variantId: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (field) {\n      return function (value) {\n        return _this.setState(_defineProperty({}, field, value));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setUpItemToBeConsumedByForm\", function () {\n      var item = store.get(\"item\");\n      var price = item.variants.edges[0].node.price;\n      var variantId = item.variants.edges[0].node.id;\n      var discounter = price * 0.1;\n\n      _this.setState({\n        price: price,\n        variantId: variantId\n      });\n\n      return (price - discounter).toFixed(2);\n    });\n\n    return _this;\n  }\n\n  _createClass(EditProduct, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        discount: this.setUpItemToBeConsumedByForm()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          price = _this$state.price,\n          discount = _this$state.discount,\n          variantId = _this$state.variantId;\n      return React.createElement(Page, null, React.createElement(Layout, null, React.createElement(Layout.Section, null, React.createElement(DisplayText, {\n        size: \"large\"\n      }, name), React.createElement(Form, null, React.createElement(Card, {\n        sectioned: true\n      }, React.createElement(FormLayout, null, React.createElement(FormLayout.Group, null, React.createElement(TextField, {\n        prefix: \"$\",\n        value: price,\n        disabled: true,\n        label: \"Original price\",\n        type: \"price\"\n      }), React.createElement(TextField, {\n        prefix: \"$\",\n        value: discount,\n        onChange: this.handleChange(\"discount\"),\n        label: \"Discounted price\",\n        type: \"discount\"\n      })), React.createElement(\"p\", null, \"This sale price will expire in two weeks on\", \" \", this.props.expires))), React.createElement(PageActions, {\n        primaryAction: [{\n          content: \"Save\",\n          onAction: function onAction() {\n            console.log(\"submitted\");\n          }\n        }],\n        secondaryActions: [{\n          content: \"Remove discount\"\n        }]\n      })))));\n    }\n  }]);\n\n  return EditProduct;\n}(React.Component);\n\nexport default EditProduct;","map":{"version":3,"sources":["/Users/gabrielpoissant/code/gabpoiss/Zebrasclub-Upsell_app/pages/edit-products.js"],"names":["Card","DisplayText","Form","FormLayout","Layout","Page","PageActions","TextField","store","EditProduct","discount","price","variantId","field","value","setState","item","get","variants","edges","node","id","discounter","toFixed","setUpItemToBeConsumedByForm","state","name","handleChange","props","expires","content","onAction","console","log","React","Component"],"mappings":";;;;;;;;AAAA,SACEA,IADF,EAEEC,WAFF,EAGEC,IAHF,EAIEC,UAJF,EAKEC,MALF,EAMEC,IANF,EAOEC,WAPF,EAQEC,SARF,QASO,kBATP;AAUA,OAAOC,KAAP,MAAkB,UAAlB;;IAEMC,W;;;;;;;;;;;;;;;;;;4DACI;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,SAAS,EAAE;AAHL,K;;mEAiEO,UAAAC,KAAK,EAAI;AACtB,aAAO,UAAAC,KAAK;AAAA,eAAI,MAAKC,QAAL,qBAAiBF,KAAjB,EAAyBC,KAAzB,EAAJ;AAAA,OAAZ;AACD,K;;kFAE6B,YAAM;AAClC,UAAME,IAAI,GAAGR,KAAK,CAACS,GAAN,CAAU,MAAV,CAAb;AACA,UAAMN,KAAK,GAAGK,IAAI,CAACE,QAAL,CAAcC,KAAd,CAAoB,CAApB,EAAuBC,IAAvB,CAA4BT,KAA1C;AACA,UAAMC,SAAS,GAAGI,IAAI,CAACE,QAAL,CAAcC,KAAd,CAAoB,CAApB,EAAuBC,IAAvB,CAA4BC,EAA9C;AACA,UAAMC,UAAU,GAAGX,KAAK,GAAG,GAA3B;;AACA,YAAKI,QAAL,CAAc;AAAEJ,QAAAA,KAAK,EAAEA,KAAT;AAAgBC,QAAAA,SAAS,EAAEA;AAA3B,OAAd;;AACA,aAAO,CAACD,KAAK,GAAGW,UAAT,EAAqBC,OAArB,CAA6B,CAA7B,CAAP;AACD,K;;;;;;;wCAtEmB;AAClB,WAAKR,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAE,KAAKc,2BAAL;AAAZ,OAAd;AACD;;;6BAEQ;AAAA,wBACsC,KAAKC,KAD3C;AAAA,UACCC,IADD,eACCA,IADD;AAAA,UACOf,KADP,eACOA,KADP;AAAA,UACcD,QADd,eACcA,QADd;AAAA,UACwBE,SADxB,eACwBA,SADxB;AAGP,aACE,oBAAC,IAAD,QACE,oBAAC,MAAD,QACE,oBAAC,MAAD,CAAQ,OAAR,QACE,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAC;AAAlB,SAA2Bc,IAA3B,CADF,EAEE,oBAAC,IAAD,QACE,oBAAC,IAAD;AAAM,QAAA,SAAS;AAAf,SACE,oBAAC,UAAD,QACE,oBAAC,UAAD,CAAY,KAAZ,QACE,oBAAC,SAAD;AACE,QAAA,MAAM,EAAC,GADT;AAEE,QAAA,KAAK,EAAEf,KAFT;AAGE,QAAA,QAAQ,EAAE,IAHZ;AAIE,QAAA,KAAK,EAAC,gBAJR;AAKE,QAAA,IAAI,EAAC;AALP,QADF,EAQE,oBAAC,SAAD;AACE,QAAA,MAAM,EAAC,GADT;AAEE,QAAA,KAAK,EAAED,QAFT;AAGE,QAAA,QAAQ,EAAE,KAAKiB,YAAL,CAAkB,UAAlB,CAHZ;AAIE,QAAA,KAAK,EAAC,kBAJR;AAKE,QAAA,IAAI,EAAC;AALP,QARF,CADF,EAiBE,8EAC8C,GAD9C,EAEG,KAAKC,KAAL,CAAWC,OAFd,CAjBF,CADF,CADF,EAyBE,oBAAC,WAAD;AACE,QAAA,aAAa,EAAE,CACb;AACEC,UAAAA,OAAO,EAAE,MADX;AAEEC,UAAAA,QAAQ,EAAE,oBAAM;AACdC,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD;AAJH,SADa,CADjB;AASE,QAAA,gBAAgB,EAAE,CAChB;AACEH,UAAAA,OAAO,EAAE;AADX,SADgB;AATpB,QAzBF,CAFF,CADF,CADF,CADF;AAkDD;;;;EAhEuBI,KAAK,CAACC,S;;AAgFhC,eAAe1B,WAAf","sourcesContent":["import {\n  Card,\n  DisplayText,\n  Form,\n  FormLayout,\n  Layout,\n  Page,\n  PageActions,\n  TextField\n} from \"@shopify/polaris\";\nimport store from \"store-js\";\n\nclass EditProduct extends React.Component {\n  state = {\n    discount: \"\",\n    price: \"\",\n    variantId: \"\"\n  };\n\n  componentDidMount() {\n    this.setState({ discount: this.setUpItemToBeConsumedByForm() });\n  }\n\n  render() {\n    const { name, price, discount, variantId } = this.state;\n\n    return (\n      <Page>\n        <Layout>\n          <Layout.Section>\n            <DisplayText size=\"large\">{name}</DisplayText>\n            <Form>\n              <Card sectioned>\n                <FormLayout>\n                  <FormLayout.Group>\n                    <TextField\n                      prefix=\"$\"\n                      value={price}\n                      disabled={true}\n                      label=\"Original price\"\n                      type=\"price\"\n                    />\n                    <TextField\n                      prefix=\"$\"\n                      value={discount}\n                      onChange={this.handleChange(\"discount\")}\n                      label=\"Discounted price\"\n                      type=\"discount\"\n                    />\n                  </FormLayout.Group>\n                  <p>\n                    This sale price will expire in two weeks on{\" \"}\n                    {this.props.expires}\n                  </p>\n                </FormLayout>\n              </Card>\n              <PageActions\n                primaryAction={[\n                  {\n                    content: \"Save\",\n                    onAction: () => {\n                      console.log(\"submitted\");\n                    }\n                  }\n                ]}\n                secondaryActions={[\n                  {\n                    content: \"Remove discount\"\n                  }\n                ]}\n              />\n            </Form>\n          </Layout.Section>\n        </Layout>\n      </Page>\n    );\n  }\n\n  handleChange = field => {\n    return value => this.setState({ [field]: value });\n  };\n\n  setUpItemToBeConsumedByForm = () => {\n    const item = store.get(\"item\");\n    const price = item.variants.edges[0].node.price;\n    const variantId = item.variants.edges[0].node.id;\n    const discounter = price * 0.1;\n    this.setState({ price: price, variantId: variantId });\n    return (price - discounter).toFixed(2);\n  };\n}\n\nexport default EditProduct;\n"]},"metadata":{},"sourceType":"module"}